<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MinecraftServer - ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±</title>
    <style>
        /* --- ãƒ‡ã‚¶ã‚¤ãƒ³çµ±ä¸€ --- */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-in { animation: fadeInUp 0.6s ease-out both; }
        
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #1a1a1a; color: #e0e0e0; margin: 0;
            display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; padding-top: 50px;
        }

        .container {
            width: 90%; max-width: 700px; background: #2d2d2d; padding: 2.5rem;
            border-radius: 16px; box-shadow: 0 20px 50px rgba(0,0,0,0.6);
            border-top: 5px solid #3fb0ac; margin-bottom: 50px;
        }

        h1 {
            font-size: 1.8rem; color: #3fb0ac; border-bottom: 2px solid #3d3d3d;
            padding-bottom: 10px; margin-bottom: 30px; display: flex; align-items: center;
        }
        h1::before { content: 'ğŸ› ï¸'; margin-right: 15px; }

        /* --- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆæ›´æ–°å±¥æ­´ï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ« --- */
        .update-item {
            position: relative; padding-left: 30px; border-left: 2px solid #3d3d3d;
            margin-bottom: 40px;
        }
        .update-item::before {
            content: ''; position: absolute; left: -7px; top: 0;
            width: 12px; height: 12px; border-radius: 50%; background: #3fb0ac;
            box-shadow: 0 0 10px #3fb0ac;
        }

        .update-date { font-size: 0.85rem; color: #777; font-weight: bold; margin-bottom: 5px; }
        .update-title { font-size: 1.2rem; color: #fff; font-weight: bold; margin-bottom: 10px; }
        .update-content { background: #1e1e1e; padding: 15px; border-radius: 8px; border: 1px solid #3d3d3d; }
        .update-content ul { margin: 0; padding-left: 20px; }
        .update-content li { margin-bottom: 5px; font-size: 0.95rem; }

        .tag {
            display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem;
            font-weight: bold; margin-right: 5px; text-transform: uppercase;
        }
        /* --- ã‚¿ã‚°ã®è‰²ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ --- */
        .tag-plugin { background: #9b59b6; color: #fff; } /* ç´«: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ */
        .tag-fix { background: #e67e22; color: #fff; }    /* æ©™: ä¿®æ­£ */
        .tag-new { background: #2ecc71; color: #fff; }    /* ç·‘: æ–°æ©Ÿèƒ½ */
        .tag-news { background: #3498db; color: #fff; }    /* é’: ãŠçŸ¥ã‚‰ã›ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ */
        .tag-event { background: #3498db; color: #fff; }    /* é’: ãŠçŸ¥ã‚‰ã›ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ */
        .tag-issue {background: #f1c40f; color: #000; }     /* é»„è‰²èƒŒæ™¯ã«ã¯é»’æ–‡å­—ã®æ–¹ãŒè¦‹ã‚„ã™ã„ã§ã™ */

        .btn-back { display: block; text-align: center; margin-top: 2rem; color: #aaa; text-decoration: none; font-size: 0.9rem; }
        .btn-back:hover { color: #fff; }

        /* --- è‡ªå‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¤ --- */
        .animate-in { 
            animation: fadeInUp 0.6s ease-out both; 
        }

        /* 1ç•ªç›®ã‹ã‚‰10ç•ªç›®ã¾ã§ã€è‡ªå‹•çš„ã«0.1ç§’ãšã¤ã‚ºãƒ©ã—ã¦è¡¨ç¤º */
        .update-item:nth-child(1) { animation-delay: 0.1s; }
        .update-item:nth-child(2) { animation-delay: 0.2s; }
        .update-item:nth-child(3) { animation-delay: 0.3s; }
        .update-item:nth-child(4) { animation-delay: 0.4s; }
        .update-item:nth-child(5) { animation-delay: 0.5s; }
        .update-item:nth-child(6) { animation-delay: 0.6s; }
        .update-item:nth-child(7) { animation-delay: 0.7s; }
        .update-item:nth-child(8) { animation-delay: 0.8s; }
        .update-item:nth-child(9) { animation-delay: 0.9s; }
        .update-item:nth-child(10) { animation-delay: 1.0s; }
        .update-item:nth-child(n+11) { animation-delay: 1.1s; }
/* --- ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ --- */
.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #3d3d3d;
    margin-top: 1.5rem;
    padding-bottom: 1.0rem; /* ä¸‹ç·šã‚’æ–‡å­—ã‹ã‚‰å°‘ã—é›¢ã™ */
    margin-bottom: 2rem;    /* â˜…ã“ã“ï¼æœ€åˆã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¨ã®é–“ã«ç©ºç™½ã‚’ä½œã‚‹ */
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼å†…ã®ã‚¿ã‚¤ãƒˆãƒ« */
.page-header h1 {
    margin: 0;
    border-bottom: none;
    padding-bottom: 0;
    font-size: 1.5rem;
    color: #3fb0ac;
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼ç”¨ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
.btn-back-header {
    text-decoration: none;
    color: #3fb0ac;
    font-size: 0.85rem;
    font-weight: bold;
    padding: 6px 14px;
    border: 1.5px solid #3fb0ac;
    border-radius: 20px; /* å°‘ã—ä¸¸ã¿ã‚’æŒãŸã›ã¦ãƒ¢ãƒ€ãƒ³ã« */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: transparent;
}

.btn-back-header:hover {
    background: #3fb0ac;
    color: #ffffff;
    transform: translateX(-3px);
    box-shadow: 0 4px 10px rgba(63, 176, 172, 0.3);
}

/* ãƒ•ãƒƒã‚¿ãƒ¼ï¼ˆä¸€ç•ªä¸‹ï¼‰ã®æˆ»ã‚‹ãƒœã‚¿ãƒ³ã‚‚å°‘ã—æ§ãˆã‚ã«é…ç½® */
.footer-area {
    margin-top: 2rem;
    text-align: center;
    border-top: 1px solid #3d3d3d;
    padding-top: 1.5rem;
}

.btn-back-footer {
    color: #888;
    text-decoration: none;
    font-size: 0.9rem;
}
.btn-back-footer:hover { color: #3fb0ac; }
    </style>
</head>
<body>

<div class="container animate-in">
    <div class="page-header">
        <h1>Updates & News</h1>
        <a href="index.html" class="btn-back-header">â† æˆ»ã‚‹</a>
    </div>

    <div id="update-list"></div>

    <div class="footer-area">
        <a href="index.html" class="btn-back-footer">â† ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</a>
    </div>
</div>

<script>
    // 1. æ—¢èª­åˆ¤å®šç”¨ï¼ˆã•ã£ãã®ä»•çµ„ã¿ï¼‰
    const params = new URLSearchParams(window.location.search);
    const dateFromUrl = params.get('date');
    if (dateFromUrl) localStorage.setItem('lastViewedUpdate', dateFromUrl);

    // 2. JSONã‚’èª­ã¿è¾¼ã‚“ã§è¡¨ç¤ºã™ã‚‹
    async function loadUpdates() {
        try {
            const response = await fetch('updates.json');
            const data = await response.json();
            const listContainer = document.getElementById('update-list');
        
            // --- ã‚¿ã‚°ã®è¡¨ç¤ºåã¨ä½¿ã„åˆ†ã‘ã®å®šç¾© ---
        const tagLabels = {
            "news": "NEWS",      // ã€ãŠçŸ¥ã‚‰ã›ã€‘ã‚¤ãƒ™ãƒ³ãƒˆå‘ŠçŸ¥ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆå®šã€é‹å–¶ã‹ã‚‰ã®é‡è¦å‘ŠçŸ¥ãªã©
            "plugin": "PLUGIN",  // ã€ã‚·ã‚¹ãƒ†ãƒ ã€‘æ–°ã—ã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å°å…¥ã€æ—¢å­˜æ©Ÿèƒ½ã®è¨­å®šå¤‰æ›´ã€ä»•æ§˜å¤‰æ›´ãªã©
            "fix": "FIX",       // ã€ä¸å…·åˆä¿®æ­£ã€‘ãƒã‚°ã®ä¿®æ­£ã€ãƒ©ã‚°ã®è§£æ¶ˆã€è¨­å®šãƒŸã‚¹ãªã©ã®ç›´ã—ãªã©
            "new": "NEW",       // ã€æ–°è¦ç´ ã€‘æ–°ãƒ¯ãƒ¼ãƒ«ãƒ‰é–‹æ”¾ã€æ–°ãƒ­ãƒ“ãƒ¼å®Œæˆã€æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ é…å¸ƒãªã©
            "event": "EVENT",    // ã€ã‚¤ãƒ™ãƒ³ãƒˆã€‘æœŸé–“é™å®šä¼ç”»ã€å‚åŠ å‹ã‚³ãƒ³ãƒ†ã‚¹ãƒˆãªã©ã®ç‰¹åˆ¥ãªå‚¬ã—
            "issue": "ISSUE"     // ã€èª¿æŸ»ä¸­/ç¢ºèªæ¸ˆã¿ã€‘ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å ±å‘Šã‚’å—ã‘ã€ç¾åœ¨å¯¾å¿œä¸­ã®ä¸å…·åˆ
        };
        
            data.forEach((item, index) => {
                // tagLabelãŒè¾æ›¸ã«ã‚ã‚Œã°ãã‚Œã‚’ä½¿ã„ã€ãªã‘ã‚Œã°tagã‚’ãã®ã¾ã¾å¤§æ–‡å­—ã«ã—ã¦è¡¨ç¤º
                const displayTag = tagLabels[item.tag] || item.tag.toUpperCase();
            
                const updateHtml = `
                    <div class="update-item animate-in" style="animation-delay: ${0.1 * (index + 1)}s">
                        <div class="update-date">${item.date}</div>
                        <div class="update-title">
                            <span class="tag tag-${item.tag}">${displayTag}</span>
                            ${item.title}
                        </div>
                        <div class="update-content">
                            <ul>
                                ${item.contents.map(text => `<li>${text}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
                listContainer.insertAdjacentHTML('beforeend', updateHtml);
            });
        } catch (error) {
            console.error("ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ:", error);
        }
    }

    loadUpdates();
</script>

</body>
</html>